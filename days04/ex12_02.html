<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="shortcut icon" type="image/x-icon" href="http://localhost/webPro/images/SiSt.ico"> 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    div{
        width: 300px;
        height: 100px;
        background-color: yellow;
        border: 1px solid;
    }
</style>
</head>
<body>
    <input id="rdoClockWise" type="radio" name="direction" value="1" checked="checked">
    <label for="rdoClockWise">시계방향</label>

    <input id="rdoReverseClockWise" type="radio"  name="direction" value="-1">
    <label for="rdoReverseClockWise">반시계방향</label>
    
    <br>
    회전속도:
    <input type="range" min="10" max="1000" value="10" id="rspeed">

    <br>
    
    <button>회전 시작</button>
    <button disabled="disabled">회전 멈춤</button>
    
    <p>.</p>
    <p>.</p>
    <p>.</p>
    
    <div>
    Lorem ipsum dolor sit amet, consectetur 
    adipisicing elit. Sit modi eos eum facere 
    quod architecto!
    </div>
<script>
    // 회전 각도 변수 선언
    let angle = 1;
    // 회전 방향    1:시계방향회전 / -1:반시계방향회전
    let direction = 1;
    // 회전 속도
    let speed = 10;
    //
    let timer;

    // 회전 시작 버튼 
    document.querySelector("button:first-of-type").onclick = function(){
        // 이벤트 테스트 필수로 할 것!! : alert("시작버튼");
        // 라디오 버튼 중, 체크된 버튼은 무엇인지 찾는 함수
        let dirRadios = document.querySelectorAll("input[type=radio][name=direction]");
        // alert(dirRadios.length);
        for (var i = 0; i < dirRadios.length; i++) {
            if(dirRadios[i].checked){
                direction = dirRadios[i].value;
                break;
            }
        }
        
        speed = document.querySelector("#rspeed").value;
        timer = setInterval(targetRotate,speed);
        
            // 회전 멈춤 버튼 활성화, 시작 비활성화
            document.querySelector("button:last-of-type").disabled=false;
            this.disabled=true;
    }
    // 회전 멈춤 버튼 
    document.querySelector("button:last-of-type").onclick = function(){
        // alert("멈춤버튼");
        clearInterval(timer);
        this.disabled=true;
        document.querySelector("button:first-of-type").disabled=false;
    }
    function targetRotate(){
        let target = document.querySelector("div");
        // css transform:rotate(10deg) -> 자바로 바꾸자
        target.style.transform=`rotate(${angle}deg)`;
        angle += parseInt(direction);
    }

</script>  
</body>
</html>